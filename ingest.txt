secure ingest feature.

‚úÖ How It Works
1. Ceph Setup (Backend Storage Layer)
Ceph RGW provides S3 API

You create a user access key + secret in Ceph for the customer (via radosgw-admin)

You give those raw Ceph keys directly to the customer

‚úÖ You never store them in Bulletproof

‚úÖ They are not passed through Bulletproof Gateway

Ceph key is used only by the customer, e.g., through a browser upload or desktop tool

2. Customer Encrypts Data (CSE)
On the client side (browser or local app), customer:

Data is stored in indexedDB in Client side. 
Encrypts object using AES-256

Encrypts AES key with their own RSA public key

Result: encrypted blob + encrypted_data_key

This bundle is uploaded to Ceph directly (via WebUI or S3 client)

Bulletproof Gateway never sees:

The plaintext data

The customer‚Äôs private key

The actual Ceph credentials

3. Bulletproof Stores Metadata
You track metadata only, e.g.:

json
Copy
Edit
{
  "object_key": "customer42/reports/2024-Q4.pdf",
  "version": "v1",
  "backends": {
    "ceph-eu1": { "url": "s3://...", "etag": "abc123" }
  },
  "encrypted_key": "base64(aes256-key encrypted with rsa)",
  "key_id": "customer42-k1",
  "key_alg": "rsa-oaep",
  "redundancy": "1-of-1"
}
‚úÖ Key points:
Bulletproof doesn't touch the data

Bulletproof doesn't store Ceph access keys

The customer owns:

Their data encryption keys

Their Ceph S3 credentials

If Bulletproof goes down, customer can:

Access Ceph directly (via S3)

Decrypt data with their private key

‚úÖ Zero vendor lock-in

üõ°Ô∏è Security & Benefits
Topic	Secured By
Data privacy	Client-side encryption (AES-256 + RSA envelope)
Credential isolation	You never store Ceph access keys
Tenant separation	Separate Ceph access keys per customer
Disaster recovery	Customer can fetch & decrypt without you
Legal compliance	Data is encrypted before it reaches any provider
Zero-trust enforcement	Gateways see metadata only, not data or keys